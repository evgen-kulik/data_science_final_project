# Документація для застосунку "Picture Classify Hub"

## 1. Підстава для розроблення

Застосунок розроблено відповідно до технічного завдання компанії GoIT "Python Data Science". Застосунок являється екзаменаційною роботою з курсу "Python Data Science", ставить завданням закріплення отриманих під час всього навчання знань та відпрацювання командної роботи і роботи з GitHub.

## 2. Розробники

Застосунок розроблено:
- Олександр Ревука (Team Lead);
- Олександр Шевченко (Scrum Master);
- Євген Плотніков (Python Developer);
- Євген Кулик (Python Developer).

  Загальне керівництво проєктом виконано ментором GoIT Іваном Панащенком.

## 4. Програмна основа

Мова програмування - Python. Застосунок реалізований на фреймворку Django. В якості бази даних використано PostgreSQL.

## 5. Використані програмні пакети

- absl-py
- astunparse
- cachetools
- cloudinary
- certifi
- charset-normalizer
- dm-tree
- django
- flatbuffers
- gast
- google-auth
- google-auth-oauthlib
- google-pasta
- grpcio
- h5py
- idna
- keras
- libclang
- markdown
- markdown-it-py
- markupsafe
- matplotlib
- mdurl
- ml-dtypes
- namex
- numpy
- oauthlib
- opt-einsum
- packaging
- pillow
- protobuf
- psycopg2-binary
- pyasn1
- pyasn1-modules
- pygments
- python-dotenv
- requests
- requests-oauthlib
- rich
- rsa
- six
- tensorboard
- tensorboard-data-server
- tensorflow
- tensorflow-estimator
- tensorflow-io-gcs-filesystem
- tensorflow
- termcolor
- typing-extensions
- tzdata
- urllib3
- werkzeug
- wrapt
- wand

## 6. Розгортання застосунку (інструкція відтестована на linux)

Для здійснення розгортання застосунку необхідно виконати наступні кроки:
6.1.(можна пропустити даний пункт) За необхідності завантажити готовий образ застосунку Piclhub з Dockerhub для можливості здійснити розгортання локально(3 пункт пропускаємо, але виконуємо пункт 5).
docker pull dcrowb/piclhub

6.2. Завантажити проект з GitHub, та перейти в його кореневу директорію.
git clone https://github.com/AleksandrRevuka/Picture_Classify_Hub.git

6.3. Створити файл .env в кореневій директорії з наступним вмістом:
###postgres connection data
DB_PASSWORD = <postgres_password>
DB_USER = <postgres_user>
DB_HOST = <address_or_host>
DB_PORT = <default_5432>

###cloudinary connection data
CLOUDINARY_NAME = <cloudinary_login>
CLOUDINARY_API_KEY = <secret_key> 
CLOUDINARY_API_SECRET = <api_secret>

6.4. Виконати команду для збірки всіх необхідних контейнерів:
docker-compose -f docker-compose.yml build

6.5. Виконати команду для створення контейнерів:
docker-compose -f docker-compose.yml create

6.6. Запустити створені контейнери:
docker start postgres piclhub webhook

6.7. (виконувати у разі виконання пункту 1) Зайти в контейнер проекту piklhub та змінити налаштування .env на необхідні вам:
docker exec -it piclhub bash

Команди з 6.4, 6.5 та 6.6 можна замінити на одну, але старт відбудеться в інтерактивному режимі:
docker-compose -f docker-compose.yml up

## 7. Опис нейронної мережі, використаної для класифікації зображень

Використана нейромережа - це мініатюрна версія моделі VGG (Visual Geometry Group), яка є однією з перших та впливових глибоких згорткових нейронних мереж для класифікації зображень. Модель використовує набір шарів згортки, пакування та повнозв'язних шарів для розпізнавання образів у зображеннях. Ось докладний опис:

Вхідний шар: Зображення розміром 32х32 пікселі з трьома каналами (RGB).

Згорткові шари: Модель має кілька послідовних згорткових шарів з функцією активації ReLU та ядром розміром 3х3. Після кожного згорткового шару застосовується Batch Normalization для стабілізації та прискорення навчання. Також використовується регуляризація L2 для зменшення перенавчання. Після кожного парного згорткового шару є пулінговий шар MaxPooling для зменшення розміру зображення та підвищення інваріантності до трансляцій.

Шари Dropout: Після кожного пулінгового шару є шар Dropout для запобігання перенавчанню шляхом випадкового вимкнення певного відсотка нейронів.

Повнозв'язні шари: Після останнього пулінгового шару розгортаємо результат у вектор за допомогою шару Flatten та подаємо на повнозв'язний шар з 256 нейронами та функцією активації ReLU. На останньому повнозв'язному шарі здійснюється класифікація на 10 класів (оскільки передбачається, що це даний датасет має 10 класів) за допомогою функції активації softmax.

Компіляція моделі: Після побудови моделі вона компілюється з оптимізатором Adam та функцією втрат категоріальної кросс-ентропії. Також визначені метрики для оцінки в результаті навчання.

Модель має високу потужність та здатність до навчання завдяки своїй глибині та використанню регуляризації та дропауту, що допомагає уникнути перенавчання.

Точність моделі досягає 92 %.

## 8. Функціонал застосунку

- Реєстрація (sign up), аутентифікація (login) та вихід із застосунку (logaut).
- Класифікація зображень за 10 класами: 'літак', 'автомобіль', 'птах', 'кіт', 'олень', 'собака', 'жаба', 'кінь', 'корабель', 'вантажівка'.
- Формат зображень для обробки нейромережею: .jpg, .jpeg та .svg.
- Виведення зображення із визначеним класом на головну сторінку.
- Збереження в Cloudinary підготовленого зображення розширенням 32х32 пікселя для можливості наповнення додаткового датасету.
- Збереження в базі даних інформації про користувача із прив'язкою до його зображень.
- Збереження в базі даних url на зображення в Cloudinary.